## Тестовое задание

## Текст задания:

Необходимо узнать и сохранить информацию об ip-адресе покупателя, сделавшего новый заказ. Эта информация привязывается к заказу и должна храниться в orm-таблице (не в свойстве заказа). Запрос в сеть за информацией по адресу должен быть сделан не на хите пользователя, а через агента. После записи информации, должно быть сгенерировано событие и по нему отправлено письмо, с информацией об ip (название сети и прочее) в человеческом виде (поле — значение).

Информацию об ip нужно получить с сервиса ripe.net, через запрос к адресу  https://rest.db.ripe.net/search.json?query-string=<ip>. В ответ на запрос, сервис возвращает json, в котором нас интересуют все вложенные объекты в objects.object, их нужно собрать в php-массив и сохранить в orm-таблице.

_Технические моменты:_

Оформить в виде модуля (с регистрацией агента и событий); он должен находиться в папке /local/ в пространстве имён afonya

Файла init.php быть не должно

Где возможно, необходимо использовать D7

Лэнг-файлы создавать не нужно

Код должен следовать стандарту PSR-12

Все создаваемые файлы должны использовать строгую типизацию declare(strict_types=1)

Интерпретатор php >=7.1